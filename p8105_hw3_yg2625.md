hw3\_yg2625
================
Yue Gu
October 13, 2018

Library
=======

``` r
library(tidyverse)
```

    ## -- Attaching packages ----------------------------------------------------------------------------------------------- tidyverse 1.2.1 --

    ## v ggplot2 3.0.0     v purrr   0.2.5
    ## v tibble  1.4.2     v dplyr   0.7.6
    ## v tidyr   0.8.1     v stringr 1.3.1
    ## v readr   1.1.1     v forcats 0.3.0

    ## -- Conflicts -------------------------------------------------------------------------------------------------- tidyverse_conflicts() --
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(p8105.datasets)
```

Problem 1
=========

Data Cleaning
-------------

``` r
data(brfss_smart2010)
brfss_data = 
  brfss_smart2010 %>% 
  janitor::clean_names() %>% 
  rename(.data = ., state = locationabbr, county = locationdesc) %>% 
  filter(.data = ., topic == "Overall Health", response == "Excellent" || response == "Very good" || response == "Good" || response == "Fair" || reponse == "Poor") %>% 
  mutate(.data = ., response = as.factor(response)) %>% 
  arrange(.data = .,  match(response,c("Excellent", "Very good", "Good", "Fair", "Poor")))
```

Answering questions
-------------------

``` r
brfss_data %>% 
  filter(year == 2002) %>% 
  group_by(state) %>% 
  summarize(n_obs = n_distinct(county) == 7) %>% 
  filter(n_obs == T)
```

    ## # A tibble: 3 x 2
    ##   state n_obs
    ##   <chr> <lgl>
    ## 1 CT    TRUE 
    ## 2 FL    TRUE 
    ## 3 NC    TRUE

``` r
brfss_data %>% 
  group_by(year, state) %>% 
  summarize(n_obs = n_distinct(county)) %>%
  ggplot(aes(x = year, y = n_obs, color = state)) + geom_line()
```

![](p8105_hw3_yg2625_files/figure-markdown_github/unnamed-chunk-3-1.png)

``` r
brfss_data %>% 
  filter(.data = ., response == "Excellent", state == "NY", year == "2002"|year == "2006"|year == "2010") %>%
  group_by(year) %>% 
  summarize(mean_data = mean(data_value)ï¼Œ
            sd_data = sd(data_value))
```

    ## # A tibble: 3 x 3
    ##    year mean_data sd_data
    ##   <int>     <dbl>   <dbl>
    ## 1  2002      24.0    4.49
    ## 2  2006      22.5    4.00
    ## 3  2010      22.7    3.57
